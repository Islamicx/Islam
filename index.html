<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Islamic.x | القرآن، القصص، الصلاة، الأذكار</title>
    <meta name="description" content="منصة إسلامية شاملة: القرآن الكريم بأصوات مئات القراء، قصص الأنبياء كاملة، مواقيت الصلاة الدقيقة، أذكار المسلم، والسبحة الإلكترونية.">
    <meta name="keywords" content="قرآن, مواقيت الصلاة, قصص الانبياء, اذكار, سبحة, مشاري العفاسي, عبدالباسط, اسلام صبحي, المنشاوي, الحصري, قبله, اسلامك, islamic x">
    <meta name="theme-color" content="#0f2e26">
    <meta property="og:title" content="Islamic.x - رفيق المسلم">
    <meta property="og:description" content="تطبيق شامل للقرآن والقصص والصلاة والأذكار.">
    <meta property="og:type" content="website">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Islamic.x",
      "url": "https://islamic-x.com",
      "description": "تطبيق إسلامي شامل للقرآن والقصص والصلاة.",
      "applicationCategory": "LifestyleApplication",
      "operatingSystem": "All",
      "offers": {
        "@type": "Offer",
        "price": "0"
      }
    }
    </script>

    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@300;400;500;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    
    <div id="splash">
        <div class="splash-logo">
            <img src="https://i.postimg.cc/x1BkxF6r/f930dee177700783a3a6aaff72711874.jpg" alt="Logo">
        </div>
        <div class="splash-text">Islamic.x</div>
    </div>

    <div class="app-container">
        <nav class="sidebar">
            <div class="nav-btn active" onclick="switchTab('reciters')">
                <i class="fas fa-users"></i>
                <span>القراء</span>
            </div>
            <div class="nav-btn" onclick="switchTab('quran')">
                <i class="fas fa-book-open"></i>
                <span>المصحف</span>
            </div>
            <div class="nav-btn" onclick="switchTab('adhkar')">
                <i class="fas fa-hands-praying"></i>
                <span>الأذكار</span>
            </div>
            <div class="nav-btn" onclick="switchTab('stories')">
                <i class="fas fa-book-journal-whills"></i>
                <span>القصص</span>
            </div>
            <div class="nav-btn" onclick="switchTab('prayer')">
                <i class="fas fa-mosque"></i>
                <span>الصلاة</span>
            </div>
        </nav>

        <div class="fab-tasbih" id="fabTasbih" onclick="openTasbihModal()">
            <i class="fas fa-fingerprint"></i>
        </div>

        <main class="content-area">
            <header class="brand-header">
                <div class="brand-logo-container">
                    <span class="en-brand">Islamic.x</span>
                    <span class="divider">|</span>
                    <span class="ar-brand">إسلامك</span>
                </div>
                <button class="history-btn" onclick="showHistory()">
                    <i class="fas fa-clock-rotate-left"></i>
                </button>
            </header>

            <section id="reciters" class="section active">
                <div class="search-container">
                    <input type="text" class="search-bar" placeholder="ابحث عن قارئ..." onkeyup="filterReciters(this.value)">
                    <i class="fas fa-search search-icon"></i>
                </div>
                <div class="reciters-grid" id="recitersList"></div>
            </section>

            <section id="quran" class="section">
                <div class="quran-hero">
                    <i class="fas fa-quran"></i>
                    <h3>القرآن الكريم</h3>
                    <p>اقرأ وتدبر آيات الله البينات</p>
                </div>
                <div class="reader-controls">
                    <select id="readerSelect" class="modern-select"></select>
                    <button onclick="openReader()" class="modern-btn">
                        <i class="fas fa-book-open"></i> قراءة السورة
                    </button>
                </div>
            </section>

            <section id="adhkar" class="section">
                <div class="section-title">
                    <h3>حصن المسلم</h3>
                </div>
                <div class="azkar-grid">
                    <div class="azkar-card morning" onclick="openAzkar('morning')">
                        <i class="fas fa-sun"></i>
                        <span>الصباح</span>
                    </div>
                    <div class="azkar-card evening" onclick="openAzkar('evening')">
                        <i class="fas fa-moon"></i>
                        <span>المساء</span>
                    </div>
                    <div class="azkar-card sleep" onclick="openAzkar('sleep')">
                        <i class="fas fa-bed"></i>
                        <span>النوم</span>
                    </div>
                    <div class="azkar-card prayer" onclick="openAzkar('prayer')">
                        <i class="fas fa-pray"></i>
                        <span>الصلاة</span>
                    </div>
                    <div class="azkar-card mosque" onclick="openAzkar('mosque')">
                        <i class="fas fa-mosque"></i>
                        <span>المسجد</span>
                    </div>
                    <div class="azkar-card wudu" onclick="openAzkar('wudu')">
                        <i class="fas fa-hand-holding-water"></i>
                        <span>الوضوء</span>
                    </div>
                </div>
            </section>

            <section id="stories" class="section">
                <div class="stories-hero">
                    <h3>قصص الأنبياء</h3>
                    <p>عبر وعظات من سير المرسلين (كاملة)</p>
                </div>
                <div class="stories-list" id="storiesList"></div>
            </section>

            <section id="prayer" class="section">
                <div class="prayer-dashboard">
                    <div class="prayer-main-card">
                        <div class="loc-info">
                            <i class="fas fa-location-dot"></i>
                            <span id="location-name">جاري التحديد...</span>
                        </div>
                        <div class="date-info">
                            <h2 id="hijri-date">-- -- ----</h2>
                            <p id="gregorian-date">--/--/----</p>
                        </div>
                        <div class="next-prayer">
                            <span>الصلاة القادمة:</span>
                            <strong id="next-prayer-name">--</strong>
                        </div>
                    </div>
                    
                    <div class="prayer-times-grid" id="prayer-times-list"></div>
                    
                    <button onclick="getPrayerTimes()" class="refresh-btn">
                        <i class="fas fa-sync-alt"></i> تحديث الموقع
                    </button>
                </div>
            </section>
        </main>
    </div>

    <div id="fullStoryOverlay">
        <div class="story-navbar">
            <button onclick="closeStoryOverlay()" class="story-back-btn">
                <i class="fas fa-arrow-right"></i> رجوع
            </button>
            <div class="story-nav-title" id="overlayStoryTitle">عنوان القصة</div>
            <div style="display:flex; gap:10px;">
                <button onclick="copyStoryContent()" class="story-action-btn"><i class="fas fa-copy"></i></button>
                <button onclick="shareOverlayStory()" class="story-action-btn"><i class="fas fa-share-alt"></i></button>
            </div>
        </div>
        <div class="story-scroll-content">
            <div class="story-body" id="overlayStoryContent"></div>
            <div class="story-footer">
                <button onclick="shareOverlayStory()" class="footer-share-btn">مشاركة القصة</button>
            </div>
        </div>
    </div>

    <div id="persistent-player">
        <div class="player-left">
            <div class="close-btn" onclick="closePlayer()">✕</div>
            <div class="mini-info" onclick="maximizePlayer()">
                <span id="p-title">سورة</span>
                <small id="p-reciter">القارئ</small>
            </div>
        </div>
        <div class="player-controls">
            <i class="fas fa-backward-step" onclick="prevTrack()"></i>
            <div class="play-pause-btn" onclick="togglePlay()">
                <i class="fas fa-play" id="playIcon"></i>
            </div>
            <i class="fas fa-forward-step" onclick="nextTrack()"></i>
            <i class="fas fa-list menu-icon" onclick="toggleSurahMenu()"></i>
        </div>
    </div>

    <div id="playlistModal">
        <div class="modal-header">
            <span>قائمة السور</span>
            <i class="fas fa-times" onclick="toggleSurahMenu()"></i>
        </div>
        <div id="playlistContent"></div>
    </div>

    <div id="fullReader">
        <button class="close-reader" onclick="closeReader()"><i class="fas fa-times"></i></button>
        <div id="readerText"></div>
    </div>

    <div id="azkarDetailView">
        <div class="azkar-view-header">
            <button onclick="closeAzkarDetail()"><i class="fas fa-arrow-right"></i></button>
            <span id="azkarTitleView"></span>
            <div style="width:30px;"></div>
        </div>
        <div id="azkarContainer" class="azkar-view-content"></div>
    </div>

    <div id="tasbihModal">
        <div class="tasbih-content">
            <div class="tasbih-header">
                <h3>السبحة الإلكترونية</h3>
                <i class="fas fa-times" onclick="closeTasbihModal()"></i>
            </div>
            
            <div class="tasbih-select-container">
                <select id="dhikrSelect" onchange="changeDhikrFromSelect()" class="dhikr-dropdown">
                    <option value="سبحان الله">سبحان الله</option>
                    <option value="الحمد لله">الحمد لله</option>
                    <option value="الله أكبر">الله أكبر</option>
                    <option value="أستغفر الله">أستغفر الله</option>
                    <option value="لا إله إلا الله">لا إله إلا الله</option>
                    <option value="لاحول ولا قوة إلا بالله">لاحول ولا قوة إلا بالله</option>
                    <option value="اللهم صل على محمد">اللهم صل على محمد</option>
                </select>
            </div>

            <div class="tasbih-screen">
                <span id="tasbihCounter">0</span>
                <small id="tasbihTargetName">سبحان الله</small>
            </div>
            <div class="tasbih-btn-area" onclick="doTasbih()">
                <div class="touch-ripple"></div>
            </div>
            <div class="tasbih-options">
                <button onclick="resetTasbih()"><i class="fas fa-undo"></i> تصفير</button>
            </div>
        </div>
    </div>

    <div id="historyModal" onclick="if(event.target===this)closeHistory()">
        <div class="history-panel">
            <div class="h-header">
                <h3>سجل النشاط</h3>
                <i class="fas fa-times" onclick="closeHistory()"></i>
            </div>
            <div id="historyList"></div>
            <button class="clear-h-btn" onclick="clearHistory()">مسح السجل</button>
        </div>
    </div>

    <div id="sharePopup" class="share-overlay">
        <div class="share-box">
            <i class="fas fa-times close-share" onclick="closeSharePopup()"></i>
            <div class="share-img">
                <i class="fas fa-gift"></i>
            </div>
            <h3>شارك تؤجر</h3>
            <p>ساهم في نشر التطبيق ليكون صدقة جارية.</p>
            <button onclick="shareAppGlobal()">مشاركة الرابط</button>
        </div>
    </div>

    <audio id="audio"></audio>
    <script src="script.js"></script>
</body>
</html>
